(()=>{"use strict";var e={d:(t,i)=>{for(var s in i)e.o(i,s)&&!e.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:i[s]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{Bricks:()=>d,Displays:()=>s,Game:()=>l,Sfx:()=>a,Vars:()=>i,brickCollision:()=>b,displayScreen:()=>r,drawBall:()=>c,drawBricks:()=>h,drawLives:()=>u,drawPaddle:()=>y,drawScore:()=>p,movePaddle:()=>f,start:()=>o,stop:()=>n,wallPaddleCollision:()=>w});class i{constructor(){this.myScore=document.querySelector("#score"),this.myLives=document.querySelector("#hearts"),this.canvas=document.querySelector("canvas"),this.canvas.width=400,this.canvas.height=250,this.ctx=this.canvas.getContext("2d"),this.itemColor="#fbfbfb",this.paddleHeight=10,this.paddleWidth=60,this.paddleX=(this.canvas.width-this.paddleWidth)/2,this.rightPressed=!1,this.leftPressed=!1,this.ballRadius=15,this.x=this.canvas.width/2,this.y=this.canvas.height-30,this.dx=3,this.dy=-3}}class s{constructor(){this.startDisplay=document.querySelector("#start"),this.winDisplay=document.querySelector("#win"),this.loseDisplay=document.querySelector("#lose"),this.slDisplay=document.querySelector("#scorelives"),this.livesDisplay=document.querySelector("#lives")}}class d{constructor(){this.brickRowCount=6,this.brickColumnCount=6,this.brickWidth=30,this.brickHeight=12,this.brickPadding=5,this.brickOffsetLeft=100,this.brickOffsetTop=50,this.bricks=[],this.health3=["#f9524e","#E68132","#fdbb44","#1eb955","#22c1e0","#BA38E0"],this.health2=["#e03c31","#ff7f41","#f7ea48","#2dc84d","#147bd1","#753bbd"],this.health1=["#ff6663","#feb144","#fdfd97","#99e09e","#9ec1cf","#cc99c9"]}init(){for(let e=0;e<this.brickColumnCount;e++){this.bricks[e]=[];for(let t=0;t<this.brickRowCount;t++)this.bricks[e][t]={x:0,y:0,health:3}}}updateStage(e,t){this.brickRowCount=e,this.brickColumnCount=t}}class a{constructor(){this.brickSounds=[new Audio("audio/brick1.wav"),new Audio("audio/brick2.wav"),new Audio("audio/brick3.wav"),new Audio("audio/brick4.wav"),new Audio("audio/brick5.wav")],this.startSound=new Audio("audio/start.wav"),this.winSound=new Audio("audio/win.wav"),this.loseSound=new Audio("audio/lose.wav"),this.dropSound=new Audio("audio/drop.wav"),this.wallSound=new Audio("audio/wall.wav"),this.paddleSound=new Audio("audio/paddle.wav")}randomBrickSound(){let e=Math.floor(5*Math.random());this.brickSounds[e].play()}}class l{constructor(){this.state=0,this.score=0,this.lives=3}}function r(e){return e.classList.remove("hidden")}let o=(e,t,i,s)=>{if(0===e.state)return t.startDisplay.classList.contains("hidden")?t.winDisplay.classList.contains("hidden")?t.loseDisplay.classList.contains("hidden")||t.loseDisplay.classList.add("hidden"):t.winDisplay.classList.add("hidden"):t.startDisplay.classList.add("hidden"),i.classList.remove("hidden"),t.slDisplay.classList.remove("hidden"),s.startSound.play(),e.state=1,e},n=(e,t,i,s,d,a,l)=>{"win"===e?(i.winSound.play(),s.init(),l.displayScreen(a.winDisplay),d.canvas.classList.add("hidden"),a.slDisplay.classList.add("hidden")):"lose"===e&&(i.loseSound.play(),s.init(),l.displayScreen(a.loseDisplay),d.canvas.classList.add("hidden"),a.slDisplay.classList.add("hidden")),t.state=0,t.score=0,t.lives=3,d.x=d.canvas.width/2,d.y=d.canvas.height-30,d.dx=3,d.dy=-3,d.paddleX=(d.canvas.width-d.paddleWidth)/2},c=(e,t,i,s)=>{let d=new Image;d.src=e,t.drawImage(d,i,s)},h=(e,t,i,s,d)=>{for(let i=0;i<t.brickColumnCount;i++)for(let s=0;s<t.brickRowCount;s++)if(t.bricks[i][s].health>0){let d=s*(t.brickWidth+t.brickPadding)+t.brickOffsetLeft,a=i*(t.brickHeight+t.brickPadding)+t.brickOffsetTop;t.bricks[i][s].x=d,t.bricks[i][s].y=a,e.beginPath(),e.rect(d,a,t.brickWidth,t.brickHeight),3===t.bricks[i][s].health?e.fillStyle=t.health3[i]:2===t.bricks[i][s].health?e.fillStyle=t.health2[i]:e.fillStyle=t.health1[i],e.fill(),e.closePath()}},u=(e,t)=>{let i="";for(let s=0;s<e;s++)i+=t;return i},y=(e,t,i,s,d)=>{t.beginPath(),t.rect(e,i-d,s,d),t.fillStyle="#b7410e",t.fill(),t.closePath()},p=(e,t)=>e.innerHTML=`SCORE: ${t}`,b=(e,t,i,s,d,a)=>{for(let l=0;l<e.brickColumnCount;l++)for(let r=0;r<e.brickRowCount;r++){let o=e.bricks[l][r];o.health>0&&d.x>o.x&&d.x<o.x+e.brickWidth&&d.y>o.y&&d.y<o.y+e.brickHeight&&(i.randomBrickSound(),d.dy=-d.dy,o.health--,0===o.health&&t.score++,t.score===e.brickRowCount*e.brickColumnCount&&a.stop("win",t,i,e,d,s,a))}},w=(e,t,i,s,d,a)=>{(t.x+t.dx>t.canvas.width-t.ballRadius||t.x+t.dx<t.ballRadius)&&(e.wallSound.play(),t.dx=-t.dx),t.y+t.dy<1?(e.wallSound.play(),t.dy=-t.dy):t.y+t.dy>t.canvas.height-t.ballRadius&&(t.x>t.paddleX&&t.x<t.paddleX+t.paddleWidth?(e.paddleSound.play(),t.dy=-t.dy):(e.dropSound.play(),i.lives--,i.lives?(t.x=t.canvas.width/2,t.y=t.canvas.height-30,t.dx=3,t.dy=-3,t.paddleX=(t.canvas.width-t.paddleWidth)/2):a.stop("lose",i,e,s,t,d,a)))},f=e=>(e.rightPressed&&e.paddleX<e.canvas.width-e.paddleWidth?e.paddleX+=5:e.leftPressed&&e.paddleX>0&&(e.paddleX-=5),e);(()=>{let e=new i,n=new d,v=new s,k=new a,m=new l;const S=document.querySelector("body"),g=document.querySelector("#startAnim");n.init(),r(v.startDisplay),S.style.background="url('../img/bgStart.png')";let x=!1;g.classList.remove("hidden"),document.querySelector("#saWrap");let C=-400,L=()=>{C+=.25,C>0&&(C=-400),g.style.transform=`translateX(${C}px)`,x?g.classList.add("hidden"):requestAnimationFrame(L)};L(),document.addEventListener("keydown",(function(t){t.preventDefault(),"ArrowRight"===t.code?e.rightPressed=!0:"ArrowLeft"===t.code&&(e.leftPressed=!0)}),!1),document.addEventListener("keyup",(function(t){"ArrowRight"===t.code?e.rightPressed=!1:"ArrowLeft"===t.code?e.leftPressed=!1:"Space"===t.code&&0===m.state&&(P(),x=!0,S.style.background="url('../img/lvl1.png')")}),!1);let P=()=>{o(m,v,e.canvas,k),e.ctx.clearRect(0,0,e.canvas.width,e.canvas.width),h(e.ctx,n,e.itemColor,e.brokenColor1,e.brokenColor2),c("img/ninja_star.png",e.ctx,e.x,e.y),y(e.paddleX,e.ctx,e.canvas.height,e.paddleWidth,e.paddleHeight),p(e.myScore,m.score),e.myLives.innerHTML=u(m.lives,'<img class="heart" src="img/heart.png" />'),b(n,m,k,v,e,t),w(k,e,m,n,v,t),e=f(e),e.x+=e.dx,e.y+=e.dy,0!==m.state&&requestAnimationFrame(P)}})()})();